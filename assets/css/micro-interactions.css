@import url('tokens.css');
/* Micro-interactions & Visual Enhancements */

/* ===== ANIMATED WEATHER ICONS ===== */
.current-left img {
  animation: iconFloat 6s ease-in-out infinite, iconPulse 3s ease-in-out infinite;
  transition: transform 0.3s var(--ease-out), filter 0.3s;
}

.current-left img:hover {
  transform: scale(1.1) rotate(5deg);
  filter: drop-shadow(0 8px 24px rgba(56,189,248,0.5));
}

@keyframes iconFloat {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-12px); }
}

@keyframes iconPulse {
  0%, 100% { filter: drop-shadow(0 4px 16px rgba(56,189,248,0.3)); }
  50% { filter: drop-shadow(0 6px 24px rgba(56,189,248,0.6)); }
}

/* Hourly & Daily icons with subtle hover */
.hour img, .day img {
  transition: transform 0.25s var(--ease-out), filter 0.25s;
}

.hour img:hover, .day img:hover {
  transform: scale(1.15) rotate(-5deg);
  filter: drop-shadow(0 4px 16px rgba(56,189,248,0.5)) brightness(1.1);
}

/* ===== RIPPLE FEEDBACK ON CARDS ===== */
.card, .hour, .day, .city-card, .source-card, .alert-item {
  position: relative;
  overflow: hidden;
}

.card::before, .hour::before, .day::before, 
.city-card::before, .source-card::before, .alert-item::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(56,189,248,0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s, opacity 0.6s;
  opacity: 0;
  pointer-events: none;
}

.card:active::before, .hour:active::before, .day:active::before,
.city-card:active::before, .source-card:active::before, .alert-item:active::before {
  width: 300px;
  height: 300px;
  opacity: 0.4;
  transition: width 0s, height 0s, opacity 0.3s;
}

/* Enhanced press states */
.card:active, .hour:active, .day:active,
.city-card:active, .source-card:active {
  transform: scale(0.98);
  transition: transform 0.1s ease-out;
}

/* ===== TEMPERATURE NUMBER ANIMATIONS ===== */
@keyframes countUp {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.current .temp, .hour .temp, .day .range,
.summary-metric strong, .city-card-temp {
  animation: countUp 0.6s var(--ease-out);
  display: inline-block;
}

/* Number update animation class (added via JS) */
.temp-updating {
  animation: tempUpdate 0.4s ease-out;
}

@keyframes tempUpdate {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); color: var(--brand); }
  100% { transform: scale(1); }
}

/* ===== TREND INDICATORS ===== */
.trend-arrow {
  display: inline-block;
  font-size: 0.85em;
  margin-left: 4px;
  animation: bounce 1.5s ease-in-out infinite;
}

.trend-arrow.up {
  color: var(--poor);
}

.trend-arrow.down {
  color: var(--good);
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

/* Temperature deviation bars */
.temp-deviation {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--good) 0%, var(--fair) 50%, var(--poor) 100%);
  border-radius: 3px 3px 0 0;
  transition: width 0.6s var(--ease-out);
}

/* ===== CONTEXTUAL GLOWS ===== */
.card.extreme-heat {
  box-shadow: 0 0 0 1px rgba(239,68,68,0.3), 
              0 8px 32px rgba(239,68,68,0.25),
              0 0 60px rgba(239,68,68,0.15);
  animation: heatPulse 3s ease-in-out infinite;
}

.card.extreme-cold {
  box-shadow: 0 0 0 1px rgba(56,189,248,0.4), 
              0 8px 32px rgba(56,189,248,0.3),
              0 0 60px rgba(56,189,248,0.2);
  animation: coldPulse 3s ease-in-out infinite;
}

@keyframes heatPulse {
  0%, 100% { box-shadow: 0 0 0 1px rgba(239,68,68,0.3), 0 8px 32px rgba(239,68,68,0.25); }
  50% { box-shadow: 0 0 0 2px rgba(239,68,68,0.5), 0 12px 48px rgba(239,68,68,0.4); }
}

@keyframes coldPulse {
  0%, 100% { box-shadow: 0 0 0 1px rgba(56,189,248,0.4), 0 8px 32px rgba(56,189,248,0.3); }
  50% { box-shadow: 0 0 0 2px rgba(56,189,248,0.6), 0 12px 48px rgba(56,189,248,0.5); }
}

/* Jog status glow */
.jog-now.jog-good {
  box-shadow: 0 0 20px rgba(34,197,94,0.3);
  animation: goodGlow 2s ease-in-out infinite;
}

@keyframes goodGlow {
  0%, 100% { box-shadow: 0 0 20px rgba(34,197,94,0.3); }
  50% { box-shadow: 0 0 30px rgba(34,197,94,0.5); }
}

/* ===== ENHANCED EMPTY STATES ===== */
.empty {
  animation: fadeIn 0.5s ease-out;
  position: relative;
}

.empty::before {
  content: 'üå§Ô∏è';
  display: block;
  font-size: 72px;
  margin-bottom: 16px;
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-10px) rotate(5deg); }
}

/* Loading skeleton shimmer enhancement */
.skeleton-bar {
  position: relative;
  overflow: hidden;
}

.skeleton-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255,255,255,0.15) 50%, 
    transparent 100%);
  animation: shimmerSlide 1.5s ease-in-out infinite;
}

@keyframes shimmerSlide {
  to { left: 100%; }
}

/* ===== STAGGER ANIMATIONS ===== */
.hour {
  animation: slideUp 0.4s var(--ease-out) backwards;
}

.hour:nth-child(1) { animation-delay: 0.05s; }
.hour:nth-child(2) { animation-delay: 0.10s; }
.hour:nth-child(3) { animation-delay: 0.15s; }
.hour:nth-child(4) { animation-delay: 0.20s; }
.hour:nth-child(5) { animation-delay: 0.25s; }
.hour:nth-child(6) { animation-delay: 0.30s; }
.hour:nth-child(7) { animation-delay: 0.35s; }
.hour:nth-child(8) { animation-delay: 0.40s; }

.day {
  animation: slideUp 0.4s var(--ease-out) backwards;
}

.day:nth-child(1) { animation-delay: 0.05s; }
.day:nth-child(2) { animation-delay: 0.10s; }
.day:nth-child(3) { animation-delay: 0.15s; }
.day:nth-child(4) { animation-delay: 0.20s; }
.day:nth-child(5) { animation-delay: 0.25s; }
.day:nth-child(6) { animation-delay: 0.30s; }
.day:nth-child(7) { animation-delay: 0.35s; }

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== VISUAL HIERARCHY BOOST ===== */
.current.card {
  position: relative;
  background: linear-gradient(135deg, 
    rgba(56,189,248,0.08) 0%, 
    rgba(14,165,233,0.05) 100%);
  box-shadow: 
    0 0 0 1px rgba(56,189,248,0.2),
    var(--shadow-xl),
    0 0 80px rgba(56,189,248,0.1);
  border: 1px solid rgba(56,189,248,0.3);
}

.current.card::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(135deg, 
    rgba(56,189,248,0.3), 
    rgba(14,165,233,0.1));
  border-radius: inherit;
  z-index: -1;
  opacity: 0.5;
  filter: blur(20px);
}

/* Confidence badge floating effect */
.meta-badge {
  animation: badgeFloat 3s ease-in-out infinite;
  transition: transform 0.3s, box-shadow 0.3s;
}

.meta-badge:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 4px 12px rgba(56,189,248,0.3);
}

@keyframes badgeFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

/* ===== PAGE TRANSITIONS ===== */
@keyframes fadeInPage {
  from {
    opacity: 0;
    filter: blur(10px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

body {
  animation: fadeInPage 0.5s ease-out;
}

/* Scroll-triggered reveals */
@keyframes revealUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.section-reveal {
  animation: revealUp 0.6s var(--ease-out) backwards;
}

/* ===== BUTTON ENHANCEMENTS ===== */
button, .secondary {
  position: relative;
  overflow: hidden;
}

button::after, .secondary::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.4);
  transform: translate(-50%, -50%);
  transition: width 0.4s, height 0.4s;
}

button:active::after, .secondary:active::after {
  width: 200px;
  height: 200px;
}

/* ===== FOCUS STATES (Accessibility) ===== */
button:focus-visible, .secondary:focus-visible,
input:focus-visible, .tab:focus-visible {
  outline: 2px solid var(--brand);
  outline-offset: 3px;
  box-shadow: 0 0 0 4px rgba(56,189,248,0.2);
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
@media (max-width: 720px) {
  .current-left img {
    animation: iconFloat 4s ease-in-out infinite;
  }
  
  @keyframes iconFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-8px); }
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
