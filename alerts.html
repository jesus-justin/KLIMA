<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KLIMA — Weather Alerts & Storm Reports</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/alerts.css" />
    <link rel="stylesheet" href="assets/css/micro-interactions.css" />
</head>
<body>
  <header class="app-header">
    <div style="display:flex;align-items:center;gap:18px">
      <a href="index.html" class="secondary" style="text-decoration:none;padding:10px 14px">← Back</a>
      <div class="brand" style="font-size:30px">KLIMA</div>
    </div>
    <div style="display:flex;align-items:center;gap:14px">
      <div id="bulb-toggle" class="bulb-toggle" role="button" aria-label="Toggle theme" title="Toggle theme">
        <svg width="64" height="120" viewBox="0 0 64 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <radialGradient id="bulbGlow" cx="50%" cy="40%" r="60%">
              <stop offset="0%" stop-color="#fff8c7"/>
              <stop offset="60%" stop-color="#fff0a6" stop-opacity="0.9"/>
              <stop offset="100%" stop-color="#fff0a6" stop-opacity="0"/>
            </radialGradient>
            <clipPath id="bulbClip">
              <ellipse cx="32" cy="28" rx="14" ry="18"/>
            </clipPath>
          </defs>
          <g class="assembly">
            <line x1="18" y1="2" x2="46" y2="2" stroke="var(--border)" stroke-width="3" stroke-linecap="round"/>
            <g transform="translate(0,6)">
              <g class="state-off">
                <ellipse cx="32" cy="22" rx="14" ry="18" fill="none" stroke="var(--text)" stroke-width="3"/>
                <path d="M23 18 q9 -9 18 0" stroke="#ffffff" stroke-opacity="0.35" stroke-width="3" fill="none" stroke-linecap="round"/>
              </g>
              <g class="state-on">
                <ellipse cx="32" cy="22" rx="14" ry="18" fill="#d9f99d" stroke="#111827" stroke-width="3"/>
                <path d="M23 18 q9 -9 18 0" stroke="#ffffff" stroke-opacity="0.5" stroke-width="3" fill="none" stroke-linecap="round"/>
                <polyline points="26,28 30,24 32,28 34,24 38,28" fill="none" stroke="#fef08a" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
              </g>
              <rect x="28" y="32" width="8" height="4" rx="1" fill="var(--panel)" stroke="var(--border)"/>
              <rect x="26" y="36" width="12" height="10" rx="3" fill="var(--panel)" stroke="var(--border)"/>
              <path d="M28 38 h8 M28 40 h8 M28 42 h8" stroke="var(--border)"/>
              <g class="glow" clip-path="url(#bulbClip)">
                <rect x="10" y="4" width="44" height="40" fill="url(#bulbGlow)"/>
              </g>
            </g>
            <g class="cord-group" transform="translate(0,46)">
              <line class="rope-line" x1="32" y1="0" x2="32" y2="54" stroke="var(--muted)" stroke-width="2" stroke-linecap="round"/>
              <circle class="rope-knob" cx="32" cy="60" r="6" fill="var(--muted)"/>
            </g>
          </g>
        </svg>
      </div>
    </div>
  </header>

  <main class="alerts-container">
    <div class="alerts-layout">
      <aside class="alerts-summary-card" aria-labelledby="alerts-heading">
        <h1 id="alerts-heading" class="alerts-title">Active Weather Alerts</h1>
        <div class="summary-location" id="summary-location">—</div>
        <div class="alerts-metrics" aria-describedby="alerts-heading">
          <div class="alerts-metric"><span class="label">Total</span><strong id="alerts-total">0</strong></div>
          <div class="alerts-metric extreme"><span class="label">Extreme</span><strong id="alerts-extreme">0</strong></div>
          <div class="alerts-metric severe"><span class="label">Severe</span><strong id="alerts-severe">0</strong></div>
          <div class="alerts-metric moderate"><span class="label">Moderate</span><strong id="alerts-moderate">0</strong></div>
          <div class="alerts-metric minor"><span class="label">Minor</span><strong id="alerts-minor">0</strong></div>
        </div>
        <!-- Severity timeline visualization -->
        <div class="severity-timeline" id="severity-timeline" aria-label="Severity distribution" role="img"></div>
        <!-- Filter chips -->
        <div class="alerts-filters" role="group" aria-label="Filter alerts by severity">
          <button class="chip active" data-filter="all" aria-pressed="true">All <span class="count" id="filter-count-all">0</span></button>
          <button class="chip" data-filter="extreme" aria-pressed="false">Extreme <span class="count" id="filter-count-extreme">0</span></button>
          <button class="chip" data-filter="severe" aria-pressed="false">Severe <span class="count" id="filter-count-severe">0</span></button>
          <button class="chip" data-filter="moderate" aria-pressed="false">Moderate <span class="count" id="filter-count-moderate">0</span></button>
          <button class="chip" data-filter="minor" aria-pressed="false">Minor <span class="count" id="filter-count-minor">0</span></button>
        </div>
        <p class="summary-desc" id="alerts-summary">Loading…</p>
        <div class="legend" aria-label="Severity legend">
          <span class="legend-item extreme">Extreme</span>
          <span class="legend-item severe">Severe</span>
          <span class="legend-item moderate">Moderate</span>
          <span class="legend-item minor">Minor</span>
        </div>
      </aside>
      <section class="alerts-list-panel" aria-label="Alerts list">
        <div id="alerts-list" class="alert-scroll" aria-live="polite">
          <div class="loader">Loading alerts...</div>
        </div>
      </section>
    </div>
  </main>

  <div class="footer">
    Data from official sources via OpenWeather (when configured). Fallback analysis provided by Open‑Meteo forecast data.
  </div>

  <script src="assets/js/theme.js" defer></script>
  <script src="assets/js/alerts.js" defer></script>
</body>
</html>
