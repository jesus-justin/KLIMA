<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Track local weather with multi-source forecasts including PAGASA. Plan your jogs with intelligent suitability scoring." />
    <meta name="theme-color" content="#38bdf8" />
    <link rel="manifest" href="manifest.json" />
    <title>KLIMA ‚Äî Local Weather & Jog Planner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="brand">KLIMA</div>
      <div class="controls">
        <form id="search-form" class="search">
          <input id="search-input" type="text" placeholder="Search city (e.g., Manila)" aria-label="Search city" />
          <button type="submit" title="Search">Search</button>
        </form>
  <button id="btn-geolocate" class="secondary" title="Use my location">Use my location</button>
  <a href="alerts.html" id="btn-alerts" class="secondary" title="Weather alerts and news" style="text-decoration:none; display:inline-flex; align-items:center; gap:6px">News <span id="alerts-badge" class="badge" style="display:none; background:#dc2626; color:#fff; border-radius:10px; padding:1px 6px; font-size:12px;">0</span></a>
  <a href="compare.html" class="secondary" title="Compare multiple weather sources" style="text-decoration:none; padding:8px 12px">Compare</a>
  <button id="btn-favorite" class="secondary" title="Add to favorites">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
    </svg>
  </button>
  <button id="btn-share" class="secondary" title="Share location">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/>
      <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
    </svg>
  </button>
  <!-- Light bulb theme toggle -->
  <div id="bulb-toggle" class="bulb-toggle" role="button" aria-label="Toggle theme" title="Toggle theme">
    <svg width="64" height="120" viewBox="0 0 64 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <defs>
        <radialGradient id="bulbGlow" cx="50%" cy="40%" r="60%">
          <stop offset="0%" stop-color="#fff8c7"/>
          <stop offset="60%" stop-color="#fff0a6" stop-opacity="0.9"/>
          <stop offset="100%" stop-color="#fff0a6" stop-opacity="0"/>
        </radialGradient>
        <clipPath id="bulbClip">
          <ellipse cx="32" cy="28" rx="14" ry="18"/>
        </clipPath>
      </defs>
      <g class="assembly">
        <!-- Ceiling mount line -->
        <line x1="18" y1="2" x2="46" y2="2" stroke="var(--border)" stroke-width="3" stroke-linecap="round"/>
        <!-- Bulb at the top -->
        <g transform="translate(0,6)">
          <!-- Glass outline -->
          <ellipse cx="32" cy="22" rx="14" ry="18" fill="none" stroke="var(--text)" stroke-width="2"/>
          <!-- Inner highlight -->
          <path d="M24 18 q8 -10 16 0" stroke="var(--border)" stroke-width="1.2" fill="none" opacity="0.6"/>
          <!-- Filament -->
          <polyline points="26,28 30,24 32,28 34,24 38,28" fill="none" stroke="#facc15" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <line x1="24" y1="28" x2="24" y2="32" stroke="var(--text)" stroke-width="1.5"/>
          <line x1="40" y1="28" x2="40" y2="32" stroke="var(--text)" stroke-width="1.5"/>
          <!-- Cap and base -->
          <rect x="28" y="32" width="8" height="4" rx="1" fill="var(--panel)" stroke="var(--border)"/>
          <rect x="26" y="36" width="12" height="10" rx="3" fill="var(--panel)" stroke="var(--border)"/>
          <!-- Threads -->
          <path d="M28 38 h8 M28 40 h8 M28 42 h8" stroke="var(--border)"/>
          <!-- Glow clipped to glass -->
          <g class="glow" clip-path="url(#bulbClip)">
            <rect x="10" y="4" width="44" height="40" fill="url(#bulbGlow)"/>
          </g>
        </g>
        <!-- Rope hanging below the bulb; animated group -->
        <g class="cord-group" transform="translate(0,46)">
          <line x1="32" y1="0" x2="32" y2="54" stroke="var(--muted)" stroke-width="2" stroke-linecap="round"/>
          <circle cx="32" cy="60" r="6" fill="var(--muted)"/>
        </g>
      </g>
    </svg>
  </div>
        <div class="units-toggle" role="group" aria-label="Units">
          <button id="unit-c" class="unit active" data-unit="metric">¬∞C</button>
          <button id="unit-f" class="unit" data-unit="imperial">¬∞F</button>
        </div>
      </div>
    </header>

      

    <nav class="app-nav">
      <div class="nav-summary">
        <div class="summary-item">
          <span class="summary-label">Jog Status:</span>
          <div id="jog-summary" class="jog-status-badges">
            <span class="status-badge good"><span id="good-count">0</span> Good</span>
            <span class="status-badge fair"><span id="fair-count">0</span> Fair</span>
            <span class="status-badge poor"><span id="poor-count">0</span> Poor</span>
          </div>
        </div>
      </div>
      <div class="view-toggle" role="group" aria-label="Forecast view">
        <button id="view-daily" class="view-btn active" data-view="daily">Daily</button>
        <button id="view-weekly" class="view-btn" data-view="weekly">Weekly</button>
      </div>
    </nav>

    <main class="container">
      <div id="error-banner" class="alert" role="alert" aria-live="assertive" hidden></div>
      
      <!-- Favorites & Recent Quick Access -->
      <div id="quick-access" class="quick-access" style="display:none">
        <div class="quick-section">
          <h3>‚≠ê Favorites</h3>
          <div id="favorites-list" class="quick-list"></div>
        </div>
        <div class="quick-section">
          <h3>üïê Recent</h3>
          <div id="recent-list" class="quick-list"></div>
        </div>
      </div>
      
      <section class="meta">
        <div class="location">
          <h1 id="location-name">‚Äî</h1>
          <div id="date-time" class="subtle">‚Äî</div>
        </div>
        <div class="jog-now" id="jog-now">‚Äî</div>
      </section>

      <section class="current card" id="current">
        <div class="current-left">
          <img id="current-icon" alt="" />
          <div>
            <div class="temp" id="current-temp">‚Äî</div>
            <div class="desc" id="current-desc">‚Äî</div>
          </div>
        </div>
        <ul class="current-stats">
          <li><span>Feels like</span><strong id="feels-like">‚Äî</strong></li>
          <li><span>Humidity</span><strong id="humidity">‚Äî</strong></li>
          <li><span>Wind</span><strong id="wind">‚Äî</strong></li>
          <li><span>Precip</span><strong id="precip">‚Äî</strong></li>
          <li><span>UV Index</span><strong id="uvi">‚Äî</strong></li>
          <li><span>Sunrise</span><strong id="sunrise">‚Äî</strong></li>
          <li><span>Sunset</span><strong id="sunset">‚Äî</strong></li>
        </ul>
      </section>

      <section class="hourly card">
        <div class="section-title">Next 24 hours</div>
        <div id="now-bar" class="now-bar" aria-live="polite">
          <img id="nowbar-icon" alt="" />
          <div class="nowbar-line">
            <span class="nowbar-pill" id="nowbar-time">‚Äî</span>
            <span class="nowbar-sep">‚Ä¢</span>
            <span id="nowbar-desc">‚Äî</span>
            <span class="nowbar-sep">‚Ä¢</span>
            <span id="nowbar-temp">‚Äî</span>
            <span class="nowbar-sep">‚Ä¢</span>
            <span id="nowbar-precip">‚Äî</span>
          </div>
        </div>
        <div id="hourly-grid" class="hourly-grid" aria-live="polite"></div>
      </section>

      <section class="daily card">
        <div class="section-title">Next 7 days</div>
        <div id="daily-grid" class="daily-grid"></div>
      </section>
    </main>

    <footer class="footer">
      <div>
        Data source: <span id="data-source">‚Äî</span> ‚Ä¢ Built for planning better jogs
      </div>
    </footer>

    <script src="assets/js/favorites.js" defer></script>
    <script src="assets/js/theme.js" defer></script>
    <script src="assets/js/app.js" defer></script>
  </body>
</html>